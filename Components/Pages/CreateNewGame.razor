@page "CreateNewGame"
@using RoadTrip.RoadTripDb.Database.Models
@using RoadTrip.Components.QuizComponents
@using RoadTrip.ViewModels

<MudCard>
    <MudSelect @bind-Value="SelectedQuiz" Label="Select a quiz">
        @foreach (var quiz in MyQuizzes)
        {
            <MudSelectItem Value="@quiz">@quiz.Title</MudSelectItem>
        }
    </MudSelect>
    @if (SelectedQuiz.Id != Guid.Empty)
    {
        <QuizFullView Quiz="SelectedQuiz" ShowAnswers="false" ShowQuestions="false" ShowVehicles="false"></QuizFullView>
    }
    
    <MudButton OnClick="SetQuiz">Confirm Quiz</MudButton>
</MudCard>

<MudCard>
    <MudText>Quiz Takers</MudText>
</MudCard>

<MudButton OnClick="StartNewGame">Start New Game</MudButton>
@code {
    private List<Quiz> MyQuizzes { get; set; } = new();
    private Quiz SelectedQuiz { get; set; } = new() { Id = Guid.Empty };
    private List<GuestAppUser> AllowedGuests { get; set; } = new List<GuestAppUser>();
    private GuestAppUser GuestRequestor { get; set; } = new();
    private List<CurrentQuizProgress> InitializedProgresses { get; set; } = new List<CurrentQuizProgress>();


    private async Task SetQuiz()
    {
        
    }
    private async Task StartNewGame()
    {
        
    }
}